/**
 * irc-2020 v0.1.0 [2021-02-11]
 *
 * A modern/advanced/responsive theme, hand-crafted for Inuvialuit Regional Corporation.
 *
 * Package    DRUPAL8
 * Subpackage THEME
 * Version    0.1.0
 * Author     Outcrop Communications <support@outcrop.com>
 * Copyright  2020 Inuvialuit Regional Corporation. All rights reserved.
 * License    MIT License
 * Link       https://www.irc.inuvialuit.com/
 */


const canvasScrollBuffer=90,heroSlideDuration=8192;function addEventListeners(element,eventNames,listener){"use strict";[].slice.call(eventNames).map(function(event){element.addEventListener(event,listener,!1)})}function exists(thing){"use strict";return!(void 0===thing||null===thing||!1===thing||thing.length<1)}function newWindowAnchor(anchor){"use strict";if(!exists(anchor))return!1;anchor.setAttribute("rel","noopener noreferrer"),anchor.addEventListener("click",function(event){event.preventDefault();let targetUrl=anchor.getAttribute("href");window.open(targetUrl,"_blank").opener=null})}function setAttributes(elem,attrs){"use strict";for(let key in attrs)elem.setAttribute(key,attrs[key])}function stripQueryParamsFromUrl(url){"use strict";return url.split("?")[0]}const BehaviorDismissAlert=function(alerts){"use strict";if(!exists(alerts))return!1;[].slice.call(alerts).map(function(alert){alert.querySelector('button[data-dismiss="alert"]').addEventListener("click",function(event){event.preventDefault(),alert.remove()})})},CanvasScroll=function(canvas){"use strict";if(!exists(canvas))return!1;document.addEventListener("scroll",function(){let position=canvas.offsetTop;document.documentElement.scrollTop>position+90?canvas.classList.add("scroll-waypoint"):canvas.classList.remove("scroll-waypoint")})},ContentImages=function(images){"use strict";if(!exists(images))return!1;[].slice.call(images).map(function(image){let imageParent=image.parentNode,figure=document.createElement("figure");if(figure.setAttribute("itemscope",""),figure.setAttribute("itemtype","https://schema.org/ImageObject"),figure.setAttribute("role","group"),figure.classList.add("media","media--image"),image.classList.contains("align-center")||image.classList.contains("align-left")||image.classList.contains("align-right")){let imageClass=image.getAttribute("class");figure.classList.add(imageClass),image.removeAttribute("class")}0!==image.naturalHeight&&image.setAttribute("height",image.naturalHeight),0!==image.naturalWidth&&image.setAttribute("width",image.naturalWidth),image.setAttribute("itemprop","contentUrl"),image.setAttribute("loading","lazy"),figure.appendChild(image),"HTMLElement"===imageParent.constructor.name||"HTMLDivElement"===imageParent.constructor.name||"HTMLParagraphElement"===imageParent.constructor.name?(imageParent.parentNode.insertBefore(figure,imageParent),image.parentNode.parentNode.removeChild(imageParent)):"HTMLAnchorElement"===imageParent.constructor.name&&imageParent.appendChild(figure)})},ContentLinks=function(links){"use strict";if(!exists(links))return!1;[].slice.call(links).map(function(link){let isEmail=!1,isExternal=!1,isFile=!1,href=link.getAttribute("href");if(!exists(href))return!1;if(isEmail=href.startsWith("mailto:"),isExternal=!(href.includes("irc.inuvialuit.com")||href.includes("ub9.outcrop.com"))&&!(href.startsWith("node/")||href.startsWith("/")||href.startsWith("?")||href.startsWith("#"))||href.includes("facebook.com")||href.includes("instagram.com")||href.includes("linkedin.com")||href.includes("twitter.com")||href.includes("vimeo.com")||"external"===link.getAttribute("rel")||isEmail,isFile=href.includes("/sites/default/files/"),isExternal||isFile){if(isEmail){let mailIcon=document.createElement("span");mailIcon.classList.add("icon-mail"),link.appendChild(mailIcon)}newWindowAnchor(link)}if(isFile){let icon=!1;href.includes(".pdf")?(icon=document.createElement("i")).classList.add("icon-file-pdf"):href.includes(".doc")||href.includes(".docx")?(icon=document.createElement("i")).classList.add("icon-file-doc"):(href.includes(".xls")||href.includes(".xlsx"))&&(icon=document.createElement("i")).classList.add("icon-file-excel"),link.classList.add("file-link"),icon&&link.prepend(icon)}})},Hero=function(container){"use strict";if(!exists(container))return!1;let hero=new Flickity(container,{cellAlign:"center",draggable:!0,adaptiveHeight:!0,prevNextButtons:!0,arrowShape:"M31.308,14.241L3.2,43.667c-1.681,1.625-2.522,3.839-2.522,6.277s0.841,4.624,2.522,6.277l28.108,29.538 c3.335,3.503,8.772,3.503,12.106,0s3.335-9.164,0-12.667l-13.48-14.124h60.813c4.736,0,8.575-4.007,8.575-8.968 c0-4.96-3.839-8.968-8.575-8.968H29.934l13.508-14.124c3.335-3.503,3.335-9.164,0-12.667C40.079,10.738,34.671,10.738,31.308,14.241z",pageDots:!1,wrapAround:!0,autoPlay:8192,pauseAutoPlayOnHover:!0});window.addEventListener("load",function(){hero.resize()})},MobileMenu=function(toggle){"use strict";if(!exists(toggle))return!1;let mobileComponents=document.querySelector(".site--header").querySelectorAll(".nav--main,.nav--main-sub,.nav--social,.nav--toolbar");toggle.addEventListener("click",function(event){event.preventDefault(),!0===this.classList.contains("is-active")?this.classList.remove("is-active"):this.classList.add("is-active");for(var i=0;i<mobileComponents.length;i++)mobileComponents[i].classList.toggle("open")})},SearchPanel=function(triggers){"use strict";if(!exists(triggers))return!1;[].slice.call(triggers).map(function(trigger){let siteSearchPanel=document.querySelector("#siteSearchPanel");trigger.addEventListener("click",function(event){event.preventDefault(),siteSearchPanel.classList.contains("toggled")?(siteSearchPanel.querySelector("#edit-keys").blur(),siteSearchPanel.classList.remove("toggled")):(siteSearchPanel.querySelector("#edit-keys").focus(),siteSearchPanel.classList.add("toggled"))})})},Table=function(tables){"use strict";if(!exists(tables))return!1;[].slice.call(tables).map(function(table){table.removeAttribute("border"),table.removeAttribute("cellpadding"),table.removeAttribute("cellspacing"),table.removeAttribute("style"),table.classList.add("table","table-bordered","table-striped","table-responsive")})},VideoEmbed=function(videoWrappers){"use strict";if(!exists(videoWrappers))return!1;[].slice.call(videoWrappers).map(function(wrapper){let videoThumbnail,iframe=wrapper.querySelector("iframe"),videoUrl=iframe.getAttribute("src").split("?")[0],videoId=videoUrl.substring(videoUrl.lastIndexOf("/")+1),videoUploadDate=(new Date).toISOString(),figure=document.createElement("figure");figure.setAttribute("itemid",videoUrl),figure.setAttribute("itemscope",""),figure.setAttribute("itemtype","https://schema.org/VideoObject"),figure.setAttribute("role","group");let videoWrapperClassList=wrapper.classList;[].slice.call(videoWrapperClassList).map(function(value,key,listObj){figure.classList.add(value)}),figure.classList.add("entry-video"),iframe.setAttribute("src",videoUrl),iframe.setAttribute("loading","lazy"),wrapper.classList.contains("video-embed-field-provider-youtube")?(iframe.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),videoThumbnail="https://i.ytimg.com/vi/"+videoId+"/maxresdefault.jpg"):wrapper.classList.contains("video-embed-field-provider-vimeo")&&(iframe.setAttribute("allow","fullscreen"),videoThumbnail="https://i.vimeocdn.com/video/"+videoId+"_960x540.webp");let metaThumbnail=document.createElement("meta");metaThumbnail.setAttribute("itemprop","thumbnailUrl"),metaThumbnail.setAttribute("content",videoThumbnail);let metaName=document.createElement("meta");metaName.setAttribute("itemprop","name"),metaName.setAttribute("content","Promotional Video | [CLIENT_NAME]");let metaDescription=document.createElement("meta");metaDescription.setAttribute("itemprop","description"),metaDescription.setAttribute("content","A video added to the [CLIENT_NAME] website for promotional purposes.");let metaUploadDate=document.createElement("meta");metaUploadDate.setAttribute("itemprop","uploadDate"),metaUploadDate.setAttribute("content",videoUploadDate),figure.appendChild(metaThumbnail),figure.appendChild(metaName),figure.appendChild(metaDescription),figure.appendChild(metaUploadDate),figure.appendChild(iframe),wrapper.replaceWith(figure)})};let largeScreen=window.matchMedia("(min-width: 770px)");!function(){"use strict";let heroWrapper=document.querySelector(".site--hero .col-auto .view-content");if(exists(heroWrapper))if(heroWrapper.querySelectorAll(".slide-pane").length>1)Hero(heroWrapper);else{let heroPane=heroWrapper.querySelector(".h-entry");exists(heroPane)&&heroPane.classList.add("no-slider")}let allLinks=document.querySelectorAll("a");exists(allLinks)&&ContentLinks(allLinks);let mobileToggle=document.querySelector(".nav--mobile-toggle .btn-hamburger");exists(mobileToggle)&&MobileMenu(mobileToggle);let searchTriggers=document.querySelectorAll(".search-toggle .icon-search,.site--search-panel .icon-cancel");exists(searchTriggers)&&SearchPanel(searchTriggers);let breadcrumbs=document.querySelector("#siteBreadcrumbs ol");if(exists(breadcrumbs)){let homeLink=breadcrumbs.querySelector("li:first-of-type a");"/"===homeLink.getAttribute("href")&&homeLink.setAttribute("href",Drupal.url.toAbsolute("/"))}let parentItems=document.querySelectorAll(".nav--side .view .nav-item");exists(parentItems)&&[].slice.call(parentItems).map(function(parentItem){let parentItemLink=parentItem.querySelector(".nav-link"),parentItemUrl=parentItemLink.href.toLowerCase();window.location.href.toLowerCase()===parentItemUrl&&(parentItem.classList.add("active"),parentItemLink.classList.add("is-active"))});let contentImages=document.querySelectorAll(".content--main .h-entry img");exists(contentImages)&&ContentImages(contentImages);let videoEmbeds=document.querySelectorAll(".video-embed-field-responsive-video");exists(videoEmbeds)&&VideoEmbed(videoEmbeds);let blockquotes=document.querySelectorAll("blockquote");exists(blockquotes)&&[].slice.call(blockquotes).map(function(quote){quote.classList.add("block-quote")});let userPage=document.querySelector(".page-user:not(.logged-in)");exists(userPage)&&userPage.querySelector("#edit-name").focus();let drupalCanvas=document.querySelector(".dialog-off-canvas-main-canvas");exists(drupalCanvas)&&largeScreen.matches&&CanvasScroll(drupalCanvas)}();

window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css";t.id="matchmediajs-test";i.parentNode.insertBefore(t,i);n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle;e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";if(t.styleSheet){t.styleSheet.cssText=i}else{t.textContent=i}return n.width==="1px"}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}());
;
